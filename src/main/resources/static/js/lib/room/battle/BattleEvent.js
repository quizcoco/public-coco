// async stateChange(resolve){
//     const {caster,target,damage} = this.event;
//     if(damage){

//         target.coco.classList.add("battle-damage-blink")
//     }
//     await utils.wait(600);
//     target.coco.classList.remove("battle-damage-blink")
//     resolve();

//     animation(resolve){
//         const fn = BattleAnimations[this.event.animation];
//         fn(this.event,resolve);

//     }



// }